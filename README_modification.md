# tofa

## サービス概要
tofa(today fashion)とは
今持っている服装やアクセサリー等を管理し、
その中で気温や自分の体質に合わせてコーディネートをしてくれるサービスです。

##　想定されるユーザー層
- 当日服装選びに時間をかけてしまう人
- 服購入に後悔したことがある人
- 自分の体質に合わせて、服装指数を参考にしたい人

## サービスコンセプト
服装選びに時間をかけたくない、服購入に失敗したくないことから、
服を管理し、持っている服からその日の気温や湿度、
または自分の体調に合わせて自動的に決めてくれるアプリを考案しました。

天気アプリにて、今日の服装指数を見ることはできます。
また、競合アプリを精査していると、体感温度について考慮されてはいませんでした。
ここでいう体感温度とは
寒がりもしくは冷え性の人、暑がりの人
湿度が高くて暑く感じやすい人、冷房が効きすぎて苦手な人などを指します。

また、住んでいる地域は選択できるものの、移動先（旅行先や職場など）について問われていませんでした。
私は神奈川出身で高校は川崎北部の実家から小田原まで通学していました。
市街地から山や川が流れている田舎の学校に通っていたので、
秋から春の間の昼と夜では気温差が激しく、体調を崩しやすかったです。

さらに、最近でも服を購入する際、似たような色柄のシャツを買って後悔したこともあります。
サイズについても、誤ったことがあります。
そのことから、服の購入日、サイズや色など購入した服の詳細について記録できると不要な買い物のリスクを減らせると思います。
しかし、毎回手入力を行うと億劫になるので、簡易的に入力できれば使いやすくなると思いました。

このような詳細を入力する手間を省くために、OCRを使った画像分析にて購入した服のレシートあるいは服自体をカメラに通すことによって自動入力ができる機能や、オンラインショップにて購入した際に商品情報を使って自動入力する機能を考えています。

以上のことから
気温によって服を間違いたくない x 服装選びに時間を取られたくない x クローゼットの可視化 
３点をメインターゲットとしてサービスを提供したいと思います。

## 実装を予定している機能
### MVP
* 今日の天気と気温および服装指数表示機能
　　※トップ画面に配置。
　　※アカウント未登録の場合、東京および大阪の天気・気温・湿度・風速を表示
　　※アカウント登録後(もしくはログイン後)設定した都道府県の天気等を表示し、追加で服装指数、各都道府県の５日間3時間おきの天気等を検索できるよう表示
　　※服装指数について、独自の設定によって調整する
     （提案される服装は、体質設定および気温によって調整されます（例えば、登録した都道府県の気温が６度未満で体感設定が寒がりと設定したとき、ダウンコートをお勧めをし、体感設定が暑がりに設定したときはダウンコートではなくチェスターコートをお勧めするなど。今後はユーザーのフィードバックを取り入れて調整を行う予定です。）
　　※コーディネートの表現部分はデフォルトで用意したアイコンにて表現する。別途同じ表示画面に、登録した服がそのカテゴリーに登録してあれば追加で表示する。(カテゴリーにダウンコートが登録してあればその写真を表示させる)
　　※OpenWeatherMapを導入して、天気や気温情報を取得します
* ユーザー管理
　*ユーザー登録
　　＊名前（必須）
　　＊emailアドレス（必須）
　　＊パスワード（必須）
　　＊パスワード確認（必須）
　　(以上３つの必須項目もしくはLineログインにてユーザー登録ができるようにする)
　　＊都道府県設定(任意：デフォルトとして東京に設定、選択式（４７都道府県）)
　　＊追加都道府県設定(任意：デフォルトとして大阪に設定、選択式（４７都道府県）)
　　＊体感設定（任意：選択式 暑がり・やや暑がり・標準・やや寒がり・寒がり）
　＊ログイン
　　＊emailアドレス
　　＊パスワード
　　＊ログインを記憶する(devise使用)
　　(Lineログインでも可能とする)
　＊ユーザー編集
　　＊名前（必須）
　　＊都道府県設定(任意：デフォルトとして東京に設定、選択式（４７都道府県）)
　　＊追加都道府県設定(任意：デフォルトとして大阪に設定、選択式（４７都道府県）)
　　＊体感設定（任意：選択式 暑がり・やや暑がり・標準・やや寒がり・寒がり）
　　＊アカウント削除機能
* 服管理
　＊服一覧 #クローゼット可視化の主な機能
　　＊登録した服の名前
　　＊登録した服のカテゴリーとサブカテゴリー
　　＊登録した服の季節
　＊服の登録
　　*自動入力（任意 服の画像　服の色  服の名前(読み込める場合,服のカテゴリー)を自動入力）
　　　＊画像分析(Google Cloud Vision APIを使用)
　　＊服の画像（任意 写真登録もしくはデフォルトでアイコンを表示）
     * CarrierWave、MiniMagickを実装予定。画像のリサイズ、画像データの容量制限するため
　　*服の名前（必須 :string型にしてフリー入力にする）
　　＊服のカテゴリー（必須 選択式にする（Yシャツなら　トップス））
　　＊服のサブカテゴリー（必須 選択式にする 動的ページでカテゴリーを選んだら選択項目が変更する（Yシャツなら　シャツ））
　　＊服の備考欄（任意）
　　　＊色
　　　＊季節 #購入した服の適正時期
　　　＊購入日
　　　＊サイズ
　　　＊購入場所
　　　＊値段
　　　＊使用頻度
　　　＊その他コメント
　　＊服の編集 #追加編集が必要な場合に使用する
　　　※登録した服と同じ内容
　　　※削除機能
* 通知設定
　※当日の天気と気温(降水量ありの場合,傘の必要性について)、服装指数をお知らせする（LINE Messaging API・LINE Messaging API SDK for Rubyを使ってプッシュ通知）
* 問い合わせ #特に体感温度につていて数値などを

### その後の機能
* 服管理
　＊服の登録
　　*自動入力（任意 服の写真もしくはアイコン選択　服の名前　服の種類の３項目を自動入力）
     *オンラインショップでの購入（Rakuten Web Serviceを予定）
　＊服一覧
　　＊検索機能
　　　＊季節（服登録時に紐付く）
　　　＊種類別(服登録時に紐づく)
* admin機能
* 購入する服の診断 #過去の登録履歴やアンケートによって好みを分析して、次回買うべき服を提案する。(似たような服を購入防止案)

画面遷移図
https://www.figma.com/file/Hm71hKfu2xKw8ZEEW5JY6O/%E7%94%BB%E9%9D%A2%E9%81%B7%E7%A7%BB%E5%9B%B3_today_fashion(Tofa)?type=design&node-id=0%3A1&mode=design&t=lPEL6XUFxWH5Dodx-1

E-R図
https://i.gyazo.com/08be0661e1b7595011175f9229025faf.png

開発環境
Docker: 開発およびデプロイメントのためのコンテナ環境

Ruby on Rails: サーバサイド開発に使用
Ruby バージョン: 3.2.2
Rails バージョン: 7.1.2

CSSフレームワーク
CSSフレームワーク: Bootstrap 5系
バージョン: 5.3.2

WebAPI
LINE Messaging API SDK for Ruby
OpenWeatherMap API
Rakuten Web Service (本リリース時に追加予定)
Google Cloud Vision API

インフラ
Webアプリケーションサーバ: Fly.io
ファイルサーバ: 未指定
セッションサーバ: 未指定
データベースサーバ: SQLite
バージョン: ~> 1.4

その他
VCS: GitHub
CI/CD: GitHub Actions

使用ライブラリ
CarrierWave, MiniMagick: 服の写真管理用に最新安定バージョンを使用予定
devise: ユーザー認証および管理のためにバージョン4.9.3を使用
JavaScript: プロジェクト内でのJavaScript開発に使用
SQLite: 開発用データベースとして使用